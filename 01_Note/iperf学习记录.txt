★iperf关键参数的含义：
1.iperf命令中的-w -l参数也就是window size 和buffer参数，是只在server上有效么？还是只在client上有效？
答：
-l参数是收包缓冲区，所以哪个作为收包的测试方，比如server ----> client方向，那么client上
就应该设置-l参数的值， 值的大小最好等与-w的参数的值，即窗口大小。

-w参数的含义：设置套接字缓冲区为指定大小。对于TCP方式，此设置为TCP窗口大小。对于UDP方式，此设置为接受UDP数据包的缓冲区大小，限制可以接受数据包的最大值。

所以该参数是接受方的参数。用于告知发送方，我这里最大可以处理的报文buffer的大小。

2.怎么配置-w 和 -l参数可以让性能最大化？
答：-l参数值的大小最好等与-w的参数的值，即窗口大小。


3.哪些参数的默认值为多少？
答：-p参数是接受方 必须和 发送方设置的port id一致，默认为5001

4.-b参数能派上用场么？
答：-b指定使用带宽大小。 ---》但是只用在udp测试的时候的client端。

★如果不在client上添加-d参数，那么默认是client ---》 server方向的打报文测试。

iperf server 《------------ iperf client  （tcp的情况）
					   (udp的情况同上)

★需要注意的是，iperf测试环境，一定要干净。

PC-----WIFI HUB------手机


WIFI—HUB上不能连接多余的其他PC，尤其不能上外网。----》保证通信干净。

★注意自己的iperf测试数据，PC上开启的 Server端的iperf都是 使用jperf，而没有使用命令行格式的iperf。!!!!!!

★注意我当时测试网速，用的是我自己家的wifi路由器。

★有没有什么apk程序，它能实时显示当前网卡的速率---------------》》》》？？？？？？？？？？？

★Iperf工作原理
Iperf主要的功能是调谐基于特定路径的TCP连接的性能，我们知道TCP连接调谐最基本的措施是调谐TCP窗口的大小，窗口大小控制在任何节点网络中可以存在的数据大小如果该值太小， 发送者将会在某段时间处于空闲状态，从而影响发送的性能。TCP窗口大小的理论值为链路瓶颈带宽与往返时延的乘积：
bottleneck bandwidth * round trip time
例如链路瓶颈带宽为45Mbit/sec，往返时延为42ms(可以通过ping来测试)，那么窗口的理论值为：
45Mbit/sec*42ms=(45e6)*(42e-3)
               =1890000 bits
               230KByte
调谐窗口大小即可以上．理论值为基准，在该值上慢慢增大或减少，即可获得最好的结果。
IperfN试TCP带宽的原理较简单，即客户端和服务器端建立连接，然后客户端发送一定大小的数据，并记下发送的时间， 或者客户端在一定的时间内发送数据，并记下发送的总数据。带宽的大小等于发送的总数据除以发送的总时间。对服务器端来说，就是在连接建立时间内，接收的总数据除以所花时间即为服务器端所测得的带宽。MSS的大小通过TCP内核接口函数直接获得。
    测试UDP的性能，客户端可以指定UDP数据流的速率。客户端发送数据时将根据客户提供的速率计算数据报发送之间的时延。另外客户还可以指定发送数据报的大小。每个发送的数据报包含一个ID号，用来惟一的标识该报文。服务器端则根据该ID 号来确定数据报丢失和乱序。当把UDP报文大小设置可以将整个报文放入I P 层的包(packet)内时，那么UDP所测得的报文丢失数据即为IP层包的丢失数据。这提供了一个有效的测试包丢失情况的方法。数据报传输延迟抖动(Jitter)的测试由服务器端完成，客户发送的报文数据包含有发送时间戳，服务器端根据该时间信息和接收到报文的时间戳来计算传输延迟抖动。传输延迟抖动反映传输过程中是否平滑。由于它是一个相对值，所以并不需要客户端和服务器端时间同步。

具体可以参考网页：http://www.360doc.com/content/11/0905/08/7242176_145859106.shtml


